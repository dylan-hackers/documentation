<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML Experimental 19960712//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental) -->
<HEAD>
<LINK REL=TOP HREF="drm_1.htm">
<LINK REL=UP HREF="drm_28.htm">
<LINK REL=PREV HREF="drm_33.htm">
<LINK REL=NEXT HREF="drm_35.htm">
<LINK TITLE="WebMaker generated style" REL=stylesheet HREF=drm.css TYPE="text/css">
<TITLE> Iteration</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental)">
</HEAD>
<BODY BGCOLOR="#FEFEF2" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<DIV CLASS=WM-DIV-BODY>
<A NAME=HEADING34></A>

<DIV CLASS=WM-DIV-HEADERS>
<P CLASS=HEADER><A HREF="drm_35.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=next.gif CLASS=HEADER></A> <A HREF="drm_33.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=prev.gif CLASS=HEADER></A> <A HREF="drm_28.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=up.gif CLASS=HEADER></A> <A HREF="drm_1.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=top.gif CLASS=HEADER></A> <A HREF="drm_2.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=content.gif CLASS=HEADER></A> <A HREF="drm_127.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=index.gif CLASS=HEADER></A></P>
<P CLASS=HEADER>4 Program Control</P>

</DIV>
<A NAME=HEADING34-0></A>
<A NAME="UID-Program_Control-363"></A>
<H1 CLASS=H1.Heading1> <A NAME=MARKER-2-466></A>Iteration</H1>
<P CLASS=T0.Text0>Iteration is supported through a number of statements, as well as through recursive functions.</P>
<A NAME=HEADING34-2></A>
<A NAME="UID-Program_Control-2858"></A>
<H2 CLASS=H2.Heading2> Iteration Statements</H2>
<P CLASS=T0.Text0>The statements supporting iteration are described in detail in <A HREF="drm_110.htm#MARKER-9-1995" CLASS=T0.Text0>Chapter 14, "The Built-In Macros and Special Definitions."</A></P>
<TABLE BORDER=1><CAPTION><P CLASS=Tb.Table>Table 4-3  Iteration Statements</P>
</CAPTION><TR VALIGN=TOP><TH><P CLASS=TbH.TblHd> Macro</P>
</TH><TH><P CLASS=TbH.TblHd> </P>
</TH><TH><P CLASS=TbH.TblHd> Description</P>
</TH><TH><P CLASS=TbH.TblHd> Page</P>
</TH></TR><TR VALIGN=TOP><TD><P CLASS=TbT.TblText> <CODE CLASS=TbT.TblText>while</CODE></P>
</TD><TD><P CLASS=TbT.TblText> </P>
</TD><TD><P CLASS=TbT.TblText> <A HREF="drm_114.htm#MARKER-9-2054" CLASS=TbT.TblText>Repeatedly executes a body until a test expression is false.</A></P>
</TD><TD><P CLASS=TbT.TblText> <A HREF="drm_114.htm#MARKER-9-2054" CLASS=TbT.TblText>399</A></P>
</TD></TR><TR VALIGN=TOP><TD><P CLASS=TbT.TblText> <CODE CLASS=TbT.TblText>until</CODE></P>
</TD><TD><P CLASS=TbT.TblText> </P>
</TD><TD><P CLASS=TbT.TblText> <A HREF="drm_114.htm#MARKER-9-2056" CLASS=TbT.TblText>Repeatedly executes a body until a test expression is true.</A></P>
</TD><TD><P CLASS=TbT.TblText> <A HREF="drm_114.htm#MARKER-9-2056" CLASS=TbT.TblText>400</A></P>
</TD></TR><TR VALIGN=TOP><TD><P CLASS=TbT.TblText> <CODE CLASS=TbT.TblText>for</CODE></P>
</TD><TD><P CLASS=TbT.TblText> </P>
</TD><TD><P CLASS=TbT.TblText> <A HREF="drm_114.htm#MARKER-9-2058" CLASS=TbT.TblText>Performs general iteration over a body, updating bindings and performing end tests on each iteration.</A></P>
</TD><TD><P CLASS=TbT.TblText> <A HREF="drm_114.htm#MARKER-9-2058" CLASS=TbT.TblText>400</A></P>
</TD></TR></TABLE><A NAME=HEADING34-65></A>
<A NAME="UID-Program_Control-5136"></A>
<H2 CLASS=H2.Heading2> <A NAME=MARKER-2-467></A>Tail Recursion</H2>
<P CLASS=T1.Text1>Implementations are encouraged to optimize tail recursive function calls whenever possible. Tail recursion occurs when a function <I CLASS="Parameter T1.Text1">F<EM CLASS="Subscript Parameter T1.Text1">1</EM></I> returns the values of a call to another function <I CLASS="Parameter T1.Text1">F<EM CLASS="Subscript Parameter T1.Text1">2</EM></I>. In many cases, this can be used to create loops using self-recursive or mutually recursive functions. (Among the cases that cannot be optimized are those in which the return value types of <I CLASS="Parameter T1.Text1">F<EM CLASS="Subscript Parameter T1.Text1">1</EM></I> and <I CLASS="Parameter T1.Text1">F<EM CLASS="Subscript Parameter T1.Text1">2</EM></I> differ, requiring the <I CLASS="Parameter T1.Text1">F<EM CLASS="Subscript Parameter T1.Text1">1</EM></I> to check the types of the values before returning them.)</P>
<P CLASS=T1.Text1>The following example uses tail recursion to compute the name of the root volume on which a given file system object is stored.</P>
<PRE CLASS=Cv.Code>
define method root-volume-name (f :: &lt;file-or-directory&gt;)
  if ( root-volume?(f) ) 
    f.name
  else 
    root-volume-name(f.container)
  end if;
end method;
</PRE>
<P CLASS=T1.Text1>The example above can execute with constant stack size,  regardless of how deeply nested the file system hierarchy may be.<A NAME=MARKER-2-468></A></P>

</DIV>

<DIV CLASS=WM-DIV-FOOTERS>

<DIV CLASS=WM-DIV-TOC>

<!-- TOC --><DL CLASS=FOOTER>
<DT CLASS=FOOTER><A REL=BELOW HREF="drm_34.htm#HEADING34-2" CLASS=FOOTER><B CLASS=FOOTER></B>Iteration Statements</A>
<DD CLASS=FOOTER>
<DT CLASS=FOOTER><A REL=BELOW HREF="drm_34.htm#HEADING34-65" CLASS=FOOTER><B CLASS=FOOTER></B>Tail Recursion</A>
<DD CLASS=FOOTER>
</DL>


</DIV>

<HR CLASS=FOOTER>
<ADDRESS CLASS=FOOTER>The Dylan Reference Manual - 7 Apr 1998</ADDRESS>
<P CLASS=FOOTER><A HREF="drm_35.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=next.gif CLASS=HEADER></A> <A HREF="drm_33.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=prev.gif CLASS=HEADER></A> <A HREF="drm_28.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=up.gif CLASS=HEADER></A> <A HREF="drm_1.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=top.gif CLASS=HEADER></A> <A HREF="drm_2.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=content.gif CLASS=HEADER></A> <A HREF="drm_127.htm" CLASS=HEADER><IMG ALIGN=BOTTOM BORDER=0 SRC=index.gif CLASS=HEADER></A></P>
<P CLASS=FOOTER>Copyright Apple Computer, Inc. 1996. Apple&#174; and the Apple logo are registered trademarks of Apple Computer, Inc. Used with permission. All Rights Reserved.</P>
<P CLASS=FOOTER>You can order a <A HREF="http://www.harlequin.com/products/ads/dylan/purchase.shtml" CLASS=FOOTER>bound copy</A> of this book from Harlequin.</P>
<P CLASS=FOOTER>Generated with <A HREF="http://www.harlequin.com/webmaker" CLASS=FOOTER>Harlequin WebMaker&#174;</A></P>

</DIV>
</BODY>
</HTML>
