<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental) -->
<HEAD>
<LINK REL=TOP HREF="DB_1.HTM">
<LINK REL=UP HREF="DB_127.HTM">
<LINK REL=PREV HREF="DB_130.HTM">
<LINK REL=NEXT HREF="DB_132.HTM">
<TITLE>10.4.4   The init-function: slot option</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental)">
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<DIV>
<A NAME=HEADING131></A>

<DIV>
<P><A HREF="DB_132.HTM"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="DB_130.HTM"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="DB_1.HTM"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="DB_2.HTM"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="DB_349.HTM"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
<A NAME=HEADING131-0></A>
<H1>10.4.4   <A NAME=MARKER-9-342></A>The <A NAME=MARKER-2-343></A><EM>init-function:</EM> slot option</H1>
<P> We can use the <CODE>init-function:</CODE> slot option to provide a function of no arguments to be called to return a default initial value for the slot. These functions are called <B>init functions</B>. They allow the initial value of a slot to be an arbitrary <BR>computation. </P>
<PRE>
define class &lt;time-of-day&gt; (&lt;time&gt;)
  inherited slot total-seconds, init-function: get-current-time;
end class &lt;time-of-day&gt;;
</PRE>
<P> Every time that we make an instance of the <CODE>&lt;time-of-day&gt;</CODE> class and we need a default value for the <CODE>total-seconds</CODE> slot, the <CODE>get-current-time</CODE> function is called to provide an initial value. Here, we assume that <CODE>get-current-time</CODE> is available as a library function; it is not part of the core Dylan language.</P>
<P>The <CODE>init-function:</CODE> slot option specifies an expression that is evaluated once, before the first instance of the class is made, to yield a function. The function must have no required arguments and must return at least one value. Every time that an instance is made and the slot needs a default value, this function is called with no arguments, and the value that it returns is used as the default. An init function is called during instance creation when no keyword argument is defined or when an optional keyword argument is not passed to <CODE>make</CODE>. </P>

</DIV>

<DIV>

<DIV>

<!-- TOC -->

</DIV>

<HR>
<ADDRESS>Dylan Programming - 9 Apr 1999</ADDRESS>
<P><A HREF="DB_132.HTM"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="DB_130.HTM"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="DB_1.HTM"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="DB_2.HTM"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="DB_349.HTM"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>N Feinberg/S E Keene/R Mathews/P Tucker Withington, DYLAN PROGRAMMING, (c) 1997 Harlequin Inc. Reproduced by permission of Addison-Wesley Longman Publishing Company, Inc.  All rights reserved. No further copying, downloading or transmitting of this material is allowed without the prior written permission of the publisher.</P>

</DIV>
</BODY>
</HTML>
