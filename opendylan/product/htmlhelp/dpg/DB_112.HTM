<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental) -->
<HEAD>
<LINK REL=TOP HREF="DB_1.HTM">
<LINK REL=UP HREF="DB_110.HTM">
<LINK REL=PREV HREF="DB_111.HTM">
<LINK REL=NEXT HREF="DB_113.HTM">
<TITLE>9.2   Examples of types that are not classes</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental)">
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<DIV>
<A NAME=HEADING112></A>

<DIV>
<P><A HREF="DB_113.HTM"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="DB_111.HTM"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="DB_1.HTM"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="DB_2.HTM"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="DB_349.HTM"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
<A NAME=HEADING112-0></A>
<H1>9.2   <A NAME=MARKER-9-295></A>Examples of types that are not classes</H1>
<P> Later in our development of the time library, we shall find it useful to define a new type that represents nonnegative integers:</P>
<PRE>
<I>// Define nonnegative integers as integers that are &gt;= zero
</I>define constant &lt;nonnegative-integer&gt; = limited(&lt;integer&gt;, min: 0);
</PRE>
<P> We can use a nonclass type as a parameter specializer of a method, or as the type of a return value: </P>
<PRE>
define method encode-total-seconds 
    (max-unit :: &lt;nonnegative-integer&gt;, 
     minutes :: &lt;nonnegative-integer&gt;, 
     seconds :: &lt;nonnegative-integer&gt;) 
 =&gt; (total-seconds :: &lt;nonnegative-integer&gt;)
  ((max-unit * 60) + minutes) * 60 + seconds;
end method encode-total-seconds; 
</PRE>
<P> To see how we use <CODE>&lt;nonnegative-integer&gt;</CODE> in the time library, see <A HREF="DB_124.HTM#MARKER-9-327">Section 10.2.2, page 120</A>.</P>
<P>We can define a type whose only member is the false value, <CODE>#f</CODE>:</P>
<PRE>
singleton(#f);
</PRE>
<P> We can define a type that is the union of the false value and <CODE>&lt;integer&gt;</CODE>:</P>
<PRE>
type-union(singleton(#f), &lt;integer&gt;);
</PRE>
<P> We can make it convenient for people to create new types like the one defined in the preceding code. The new type is the union of the false value and the argument to the method:</P>
<PRE>
define method false-or (other-type :: &lt;type&gt;) =&gt; (combined-type :: &lt;type&gt;)
  type-union(singleton(#f), other-type);
end method false-or;
</PRE>
<P> <B>False-or</B> types are useful as the type of slots. Note that a <A NAME=MARKER-2-296></A>slot can be uninitialized. Once a slot receives a value, however, it will always have a value: There is no way to return a slot to the uninitialized state. Sometimes it is useful to store in a slot a value that means none. Later on in our development of the airport example, we use a false-or type as the type of a slot that stores "the next vehicle, if there is one." If there is no next vehicle, the slot contains <CODE>#f</CODE>. We create the type by calling <CODE>false-or(&lt;vehicle&gt;)</CODE>, and use the result as the type of the slot. Note that, if the type of the slot were just <CODE>&lt;vehicle&gt;</CODE>, we could not store <CODE>#f</CODE> in the slot, and there would be no way to represent none.</P>
<P>You can use <CODE>type-union</CODE> and <CODE>singleton</CODE> together to define a type that is an enumeration of multiple-choice objects. For example, </P>
<PRE>
define constant &lt;latitude-direction&gt; 
  = type-union(singleton(#&quot;north&quot;), singleton(#&quot;south&quot;));
</PRE>
<P> The <CODE>&lt;latitude-direction&gt;</CODE> type has two valid values: the keywords <CODE>#&quot;north&quot;</CODE> and <CODE>#&quot;south&quot;</CODE>. For an explanation of how we could use that type to enforce the correct values of a latitude slot, and for information about the performance of enumerations, see <A HREF="DB_300.HTM#MARKER-9-773">Section 19.5, page 318</A>.</P>

</DIV>

<DIV>

<DIV>

<!-- TOC -->

</DIV>

<HR>
<ADDRESS>Dylan Programming - 9 Apr 1999</ADDRESS>
<P><A HREF="DB_113.HTM"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="DB_111.HTM"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="DB_1.HTM"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="DB_2.HTM"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="DB_349.HTM"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>N Feinberg/S E Keene/R Mathews/P Tucker Withington, DYLAN PROGRAMMING, (c) 1997 Harlequin Inc. Reproduced by permission of Addison-Wesley Longman Publishing Company, Inc.  All rights reserved. No further copying, downloading or transmitting of this material is allowed without the prior written permission of the publisher.</P>

</DIV>
</BODY>
</HTML>
