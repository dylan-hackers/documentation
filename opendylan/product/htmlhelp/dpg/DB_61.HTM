<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental) -->
<HEAD>
<LINK REL=TOP HREF="DB_1.HTM">
<LINK REL=UP HREF="DB_55.HTM">
<LINK REL=PREV HREF="DB_60.HTM">
<LINK REL=NEXT HREF="DB_62.HTM">
<TITLE>4.6.6   Method for say-time-of-day</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental)">
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<DIV>
<A NAME=HEADING61></A>

<DIV>
<P><A HREF="DB_62.HTM"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="DB_60.HTM"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="DB_1.HTM"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="DB_2.HTM"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="DB_349.HTM"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
<A NAME=HEADING61-0></A>
<H1>4.6.6   Method for <EM>say-time-of-day</EM></H1>
<P> We can provide a way to ask an instance of <CODE>&lt;time-of-day&gt;</CODE> to describe the time in a conventional format, such as 8:30. For the application that we are planning, there is no need to view the seconds. We want the method to print the description in a window on the screen. We define a method named <CODE>say-time-of-day</CODE>:</P>
<PRE>
define method say-time-of-day (time :: &lt;time-of-day&gt;) =&gt; ()	<I>// 1
</I>  let(hours, minutes) = decode-total-seconds(time);	<I>// 2
</I>  format-out	<I>// 3
</I>    (&quot;%d:%s%d&quot;, hours, if (minutes &lt; 10) &quot;0&quot; else &quot;&quot; end, minutes);<I>	// 4
</I>end method say-time-of-day;	<I>// 5</I>
</PRE>
<P> On line 1, we provide an empty value declaration, which means that this method returns no values. </P>
<P>On line 2, we use <CODE>let</CODE> to initialize two local variables to the first and second values returned by <CODE>decode-total-seconds</CODE>. Remember that <CODE>decode-total-seconds</CODE> returns three values (the third value is the seconds). For the application that we are planning, the <CODE>say-time-of-day</CODE> method does not need to show the seconds, so we do not use the third value. It is not necessary to receive the third value of <CODE>decode-total-seconds</CODE>; here we do not provide a local variable to receive the third value, so that value is simply ignored.</P>
<P>On line 4, we use <CODE>if</CODE> to print a leading 0 for the minutes when there are fewer than 10 minutes, such as <CODE>2:05</CODE>. </P>
<P>        </P>
<TABLE BORDER=1><TR VALIGN=TOP><TD><P> <B>Comparison<A NAME=MARKER-2-137></A> to C:</B> In C, <CODE>if</CODE> does not return a value. In Dylan, <CODE>if</CODE> returns the value of the body that is selected, if any is.</P>
</TD></TR></TABLE><TABLE BORDER=1><TR VALIGN=TOP><TD><P> <B>Note on <CODE>format-out:</CODE></B> We have purposely used a limited subset of the <CODE>format-out</CODE> function's features to allow our examples to run on as many Dylan implementations as possible. The printing of times could be done much more elegantly if we used the full power of the <CODE>format-out</CODE> function. </P>
</TD></TR></TABLE><P> </P>
<P> </P>
<P> We can call <CODE>say-time-of-day</CODE>:</P>
<PRE>
<I>? </I>say-time-of-day(*your-time-of-day*);
<I>8:30</I>
<I>? </I>say-time-of-day(*my-time-of-day*);
<I>0:02</I>
</PRE>
<P> The listener displays the output (printed by <CODE>format-out</CODE>), but displays no values, because <CODE>say-time-of-day</CODE> does not return any values.</P>

</DIV>

<DIV>

<DIV>

<!-- TOC -->

</DIV>

<HR>
<ADDRESS>Dylan Programming - 9 Apr 1999</ADDRESS>
<P><A HREF="DB_62.HTM"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="DB_60.HTM"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="DB_1.HTM"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="DB_2.HTM"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="DB_349.HTM"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>N Feinberg/S E Keene/R Mathews/P Tucker Withington, DYLAN PROGRAMMING, (c) 1997 Harlequin Inc. Reproduced by permission of Addison-Wesley Longman Publishing Company, Inc.  All rights reserved. No further copying, downloading or transmitting of this material is allowed without the prior written permission of the publisher.</P>

</DIV>
</BODY>
</HTML>
