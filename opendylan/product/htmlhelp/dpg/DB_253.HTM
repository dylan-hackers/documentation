<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental) -->
<HEAD>
<LINK REL=TOP HREF="DB_1.HTM">
<LINK REL=UP HREF="DB_252.HTM">
<LINK REL=PREV HREF="DB_252.HTM">
<LINK REL=NEXT HREF="DB_254.HTM">
<TITLE>16.1.1   A new collection class</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental)">
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<DIV>
<A NAME=HEADING253></A>

<DIV>
<P><A HREF="DB_254.HTM"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="DB_252.HTM"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="DB_1.HTM"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="DB_2.HTM"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="DB_349.HTM"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
<A NAME=HEADING253-0></A>
<H1>16.1.1   <A NAME=MARKER-9-692></A>A new collection class
<TABLE BORDER=1><TH ROWSPAN="" COLSPAN=""><P>The <CODE>sorted-sequence.dylan</CODE> file.</P><TR>
<TD ROWSPAN="" COLSPAN=""><P>module: sorted-sequence</P><TR>
<TD ROWSPAN="" COLSPAN=""><P>define class &lt;sorted-sequence&gt; (&lt;sequence&gt;)<BR><I>  // The vector that stores the elements of the sorted sequence, in order<BR></I>  slot data :: &lt;stretchy-vector&gt; = make(&lt;stretchy-vector&gt;, size: 0);<BR><I>  // The function used to extract the comparison value from an element<BR></I>  constant slot value-function :: &lt;function&gt; = identity,<BR>    init-keyword: value-function:;<BR><I>  // The function used to determine whether one comparison value is <BR>  // smaller than another comparison value<BR></I>  constant slot comparison-function :: &lt;function&gt; = \&lt;,<BR>    init-keyword: comparison-function:;<BR>end class &lt;sorted-sequence&gt;; </P></TABLE>
</H1>
<P> </P>
<P> Because is there is a well-defined ordering of the elements of sorted sequences, we choose <CODE>&lt;sequence&gt;</CODE> to be the superclass of <CODE>&lt;sorted-sequence&gt;</CODE>. We use the built-in collection class called <CODE>&lt;stretchy-vector&gt;</CODE> to store the elements of our sorted sequence, because we want to be able to have the sorted sequence grow to any size in a convenient way.</P>
<P>The slots <CODE>comparison-function</CODE> and <CODE>value-function</CODE> are constant slots, because we intend to have clients specify these functions only when they create the sorted sequence. If we had decided to let clients change the value of these slots, we would have made the slots virtual, so that we could reorder the data vector after either function had changed. </P>
<P>Now that we have covered the structure and initialization of the sorted sequence data structure, we can define basic collection methods.</P>

</DIV>

<DIV>

<DIV>

<!-- TOC -->

</DIV>

<HR>
<ADDRESS>Dylan Programming - 9 Apr 1999</ADDRESS>
<P><A HREF="DB_254.HTM"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="DB_252.HTM"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="DB_1.HTM"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="DB_2.HTM"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="DB_349.HTM"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>N Feinberg/S E Keene/R Mathews/P Tucker Withington, DYLAN PROGRAMMING, (c) 1997 Harlequin Inc. Reproduced by permission of Addison-Wesley Longman Publishing Company, Inc.  All rights reserved. No further copying, downloading or transmitting of this material is allowed without the prior written permission of the publisher.</P>

</DIV>
</BODY>
</HTML>
