<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental) -->
<HEAD>
<LINK REL=TOP HREF="DB_1.HTM">
<LINK REL=UP HREF="DB_134.HTM">
<LINK REL=PREV HREF="DB_136.HTM">
<LINK REL=NEXT HREF="DB_138.HTM">
<TITLE>10.6.3   Initialize method for a virtual slot</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997 experimental)">
</HEAD>
<BODY BGCOLOR="#FFFFFF">

<DIV>
<A NAME=HEADING137></A>

<DIV>
<P><A HREF="DB_138.HTM"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="DB_136.HTM"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="DB_1.HTM"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="DB_2.HTM"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="DB_349.HTM"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
<A NAME=HEADING137-0></A>
<H1>10.6.3   <A NAME=MARKER-9-357></A>Initia<A NAME=MARKER-2-358></A>lize method for a virtual slot</H1>
<P> We define the <CODE>initialize</CODE> method:</P>
<PRE>
define method initialize (angle :: &lt;directed-angle&gt;, #key direction: dir)	<I>//1
</I>  next-method();	<I>//2
</I>  angle.direction := dir;	<I>//3
</I>end method initialize;	<I>//4</I>
</PRE>
<P> For keyword parameters, the name of the keyword that you supply to <CODE>make</CODE> is normally the same name as the parameter that is initialized within the body. In this case, we want to avoid confusion between the getter <CODE>direction</CODE> and the keyword parameter <CODE>direction:</CODE>, so we use <CODE>dir</CODE> as the name of the keyword parameter for the <CODE>initialize</CODE> method. When you call <CODE>make</CODE>, you use the <BR><CODE>direction:</CODE> keyword. However, within this method, the parameter is named <CODE>dir</CODE>. </P>
<P>Line 3 calls the setter for the <CODE>direction</CODE> slot. We defined the methods for <CODE>direction-setter</CODE> in <A HREF="DB_136.HTM#MARKER-9-356">Section 10.6.2</A>. If the argument is a latitude, then method 3 is invoked to check the value. If the argument is a longitude, then method 4 is invoked to check the value.</P>
<P>We can create a new instance of <CODE>&lt;absolute-position&gt;</CODE>. </P>
<PRE>
<I>? </I>define variable *my-absolute-position* = 
    make(&lt;absolute-position&gt;, 
         latitude:  
           make(&lt;latitude&gt;, 
                total-seconds: encode-total-seconds(42, 19, 34),
                direction: #&quot;north&quot;),
         longitude: 
           make(&lt;longitude&gt;,
                total-seconds: encode-total-seconds(70, 56, 26),
                direction: #&quot;west&quot;)); 
</PRE>
<P> The preceding example works, because the values for direction are appropriate for latitude and longitude. The following example shows what happens when the direction is not valid when an instance is created:</P>
<PRE>
<I>? </I>make(&lt;latitude&gt;, direction: #&quot;nooth&quot;);
<I>ERROR: nooth is not north or south </I>
</PRE>
<P> The following example shows what happens when the direction is not valid when the <CODE>direction</CODE> setter is used:</P>
<PRE>
<I>? </I>begin
    let my-longitude = make(&lt;longitude&gt;, direction: #&quot;east&quot;);
    my-longitude.direction := #&quot;north&quot;;
  end;
<I>ERROR: north is not east or west</I>
</PRE>

</DIV>

<DIV>

<DIV>

<!-- TOC -->

</DIV>

<HR>
<ADDRESS>Dylan Programming - 9 Apr 1999</ADDRESS>
<P><A HREF="DB_138.HTM"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="DB_136.HTM"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="DB_1.HTM"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="DB_2.HTM"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="DB_349.HTM"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>N Feinberg/S E Keene/R Mathews/P Tucker Withington, DYLAN PROGRAMMING, (c) 1997 Harlequin Inc. Reproduced by permission of Addison-Wesley Longman Publishing Company, Inc.  All rights reserved. No further copying, downloading or transmitting of this material is allowed without the prior written permission of the publisher.</P>

</DIV>
</BODY>
</HTML>
